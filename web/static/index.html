<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memory System Dashboard</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üß† Memory System Dashboard</h1>
            <div class="stats" id="stats">
                <span>Loading...</span>
            </div>
        </header>

        <div class="controls">
            <div class="search-box">
                <input type="text" id="searchQuery" placeholder="Search memories..." />
                <button onclick="searchMemories()">Search</button>
            </div>
            <div class="filters">
                <select id="repository">
                    <option value="mcp-memory" selected>mcp-memory</option>
                    <option value="">All Repositories</option>
                    <option value="_global">Global</option>
                </select>
                <select id="recency">
                    <option value="recent">Recent (7 days)</option>
                    <option value="last_month">Last Month</option>
                    <option value="all_time">All Time</option>
                </select>
                <select id="type">
                    <option value="">All Types</option>
                    <option value="problem">Problems</option>
                    <option value="solution">Solutions</option>
                    <option value="architecture_decision">Decisions</option>
                    <option value="session_summary">Summaries</option>
                </select>
            </div>
        </div>

        <div class="main-content">
            <div class="memory-list">
                <h2>Recent Memories</h2>
                <div id="memoryList" class="memory-items">
                    <div class="loading">Loading memories...</div>
                </div>
            </div>
            
            <div class="memory-detail">
                <h2>Memory Details</h2>
                <div id="memoryDetail">
                    <p class="placeholder">Select a memory to view details</p>
                </div>
                <div id="traceButtons" class="trace-buttons" style="display: none;">
                    <button onclick="traceSession()" class="trace-btn">üîç Trace Session</button>
                    <button onclick="traceRelated()" class="trace-btn">üîó Find Related</button>
                </div>
            </div>
        </div>

        <div class="visualization">
            <h2>Memory Relationships</h2>
            <div id="graph" class="graph-container">
                <canvas id="graphCanvas"></canvas>
            </div>
        </div>
    </div>

    <script src="/static/js/app.js"></script>
</body>
</html>