# ST-MT-005-006: Comprehensive Documentation and User Guides

## 1. Sub-Task Overview
- **Sub-Task ID:** ST-MT-005-006
- **Sub-Task Name:** Comprehensive Documentation and User Guides
- **Parent Task:** MT-005: Production-Ready System with Advanced Features
- **Estimated Duration:** 4 hours
- **Implementation Type:** Documentation

## 2. Deliverable Specification
- **Primary Output:** Complete documentation suite with user guides, API references, tutorials, and troubleshooting
- **Code Location:** 
  - `docs/` - Main documentation directory
  - `docs/user-guide/` - User documentation
  - `docs/api/` - API reference documentation
  - `docs/tutorials/` - Step-by-step tutorials
  - `docs/admin/` - Administrative guides
  - `website/` - Documentation website
- **Technical Requirements:** Documentation generation, interactive tutorials, searchable docs, multi-format output
- **Interface Definition:** Documentation structure, navigation, search, and maintenance workflows

## 3. Implementation Details
- **Step-by-Step Approach:**
  1. Create comprehensive user guide with getting started section
  2. Generate complete API reference documentation
  3. Develop interactive tutorials and examples
  4. Create administrator and deployment guides
  5. Add troubleshooting and FAQ sections
  6. Implement documentation search and navigation
  7. Create video tutorials and screencasts
  8. Add contributing and development guides
  9. Implement documentation versioning
  10. Setup automated documentation deployment

- **Code Examples:**
  ```markdown
  # LMMC User Guide

  ## Table of Contents

  ### Getting Started
  - [Installation](#installation)
  - [Quick Start](#quick-start)
  - [First Project Setup](#first-project-setup)
  - [Basic Commands](#basic-commands)

  ### Core Features
  - [Task Management](#task-management)
  - [Project Organization](#project-organization)
  - [AI-Powered Suggestions](#ai-powered-suggestions)
  - [Pattern Learning](#pattern-learning)
  - [Analytics and Reports](#analytics-and-reports)

  ### Advanced Features
  - [Interactive TUI](#interactive-tui)
  - [Server Integration](#server-integration)
  - [Cross-Repository Learning](#cross-repository-learning)
  - [Export and Integrations](#export-and-integrations)
  - [Automation and Scheduling](#automation-and-scheduling)

  ### Configuration
  - [Configuration Files](#configuration-files)
  - [Environment Variables](#environment-variables)
  - [Authentication Setup](#authentication-setup)
  - [Performance Tuning](#performance-tuning)

  ### Integrations
  - [GitHub Integration](#github-integration)
  - [Jira Integration](#jira-integration)
  - [Notion Integration](#notion-integration)
  - [Custom Integrations](#custom-integrations)

  ### Troubleshooting
  - [Common Issues](#common-issues)
  - [Error Messages](#error-messages)
  - [Performance Issues](#performance-issues)
  - [Getting Help](#getting-help)

  ---

  ## Installation

  ### Prerequisites

  Before installing LMMC, ensure you have:

  - **Go 1.21+** (for building from source)
  - **Git** (for repository operations)
  - **Docker** (optional, for server components)
  - **Modern terminal** with UTF-8 support

  ### Quick Installation

  #### Via Homebrew (macOS/Linux)

  ```bash
  # Add our tap
  brew tap lerianstudio/tap

  # Install LMMC
  brew install lmmc

  # Verify installation
  lmmc version
  ```

  #### Via Direct Download

  ```bash
  # Download latest release
  curl -L https://github.com/lerianstudio/lerian-mcp-memory/releases/latest/download/lmmc-$(uname -s)-$(uname -m).tar.gz | tar xz

  # Move to PATH
  sudo mv lmmc /usr/local/bin/

  # Install shell completion
  lmmc completion install
  ```

  #### From Source

  ```bash
  # Clone repository
  git clone https://github.com/lerianstudio/lerian-mcp-memory.git
  cd lerian-mcp-memory

  # Build CLI
  make build

  # Install locally
  make install
  ```

  ### Verification

  After installation, verify LMMC is working:

  ```bash
  # Check version
  lmmc version

  # Run health check
  lmmc doctor

  # Get help
  lmmc --help
  ```

  ## Quick Start

  ### Initialize Your First Project

  ```bash
  # Navigate to your project directory
  cd /path/to/your/project

  # Initialize LMMC
  lmmc init

  # Follow the interactive setup
  # - Choose project type (web-app, cli, api, etc.)
  # - Configure integrations
  # - Set preferences
  ```

  ### Create Your First Task

  ```bash
  # Create a simple task
  lmmc task create "Setup authentication system"

  # Create with details
  lmmc task create "Implement user login" \
    --priority high \
    --description "Create login form and authentication flow" \
    --tags auth,security

  # Create from template
  lmmc task create --template feature "User profile page"
  ```

  ### View and Manage Tasks

  ```bash
  # List all tasks
  lmmc task list

  # List with filters
  lmmc task list --status in_progress --priority high

  # View task details
  lmmc task show TASK_ID

  # Update task status
  lmmc task update TASK_ID --status completed

  # Interactive task management
  lmmc tui
  ```

  ### Get AI Suggestions

  ```bash
  # Get task suggestions for your project
  lmmc suggest tasks

  # Get next steps based on current context
  lmmc suggest next

  # Get workflow optimizations
  lmmc suggest optimize
  ```

  ## Task Management

  ### Creating Tasks

  LMMC provides multiple ways to create tasks:

  #### Basic Task Creation

  ```bash
  # Simple task
  lmmc task create "Task title"

  # With description
  lmmc task create "Setup CI/CD" --description "Configure GitHub Actions for automated testing and deployment"

  # With metadata
  lmmc task create "Database migration" \
    --priority high \
    --tags database,migration \
    --estimate "2 hours" \
    --assignee "john.doe"
  ```

  #### Template-Based Creation

  ```bash
  # List available templates
  lmmc template list

  # Create from template
  lmmc task create --template "feature-development" "User authentication"

  # Create with template variables
  lmmc task create --template "bug-fix" "Login error" \
    --var severity=critical \
    --var affected_users=all
  ```

  #### Batch Creation

  ```bash
  # From file
  lmmc task import tasks.csv

  # From GitHub issues
  lmmc task import --source github --repository owner/repo

  # From Jira
  lmmc task import --source jira --project PROJ --query "assignee = currentUser()"
  ```

  ### Task Organization

  #### Dependencies

  ```bash
  # Add dependency
  lmmc task depend TASK_ID --on DEPENDENCY_ID

  # List dependencies
  lmmc task dependencies TASK_ID

  # View dependency graph
  lmmc task graph
  ```

  #### Hierarchies

  ```bash
  # Create subtask
  lmmc task create "Write unit tests" --parent PARENT_ID

  # List task tree
  lmmc task tree PARENT_ID

  # Break down epic
  lmmc task breakdown "User management system"
  ```

  ## AI-Powered Features

  ### Intelligent Suggestions

  LMMC learns from your work patterns to provide intelligent suggestions:

  #### Task Suggestions

  ```bash
  # Context-aware suggestions
  lmmc suggest tasks
  # Based on:
  # - Current project state
  # - Recently completed tasks
  # - Detected patterns
  # - Similar projects

  # Specific suggestions
  lmmc suggest next-task CURRENT_TASK_ID
  lmmc suggest similar "implement authentication"
  lmmc suggest dependencies TASK_ID
  ```

  #### Workflow Optimization

  ```bash
  # Analyze workflow efficiency
  lmmc analyze workflow

  # Get optimization suggestions
  lmmc suggest optimize
  # Identifies:
  # - Bottlenecks
  # - Repeated patterns
  # - Missing dependencies
  # - Task ordering improvements
  ```

  ## Interactive TUI

  Launch the interactive Terminal User Interface for visual task management:

  ```bash
  # Start TUI
  lmmc tui

  # TUI with specific view
  lmmc tui --view analytics
  lmmc tui --view kanban
  ```

  ### TUI Navigation

  - **Tab/Shift+Tab**: Navigate between panes
  - **Enter**: Select/Edit item
  - **Esc**: Go back/Cancel
  - **?**: Show help
  - **q**: Quit

  ### TUI Views

  1. **Task List**: Browse and filter tasks
  2. **Task Details**: View/edit task information
  3. **Analytics**: Productivity charts and metrics
  4. **Kanban Board**: Visual task management
  5. **Calendar**: Time-based task view

  ## Analytics and Reports

  ### Productivity Analytics

  ```bash
  # Overall analytics
  lmmc analytics

  # Specific time period
  lmmc analytics --period 30d
  lmmc analytics --from 2024-01-01 --to 2024-01-31

  # Detailed reports
  lmmc analytics --report productivity
  lmmc analytics --report velocity
  lmmc analytics --report patterns
  ```

  ### Export Reports

  ```bash
  # Export as PDF
  lmmc export analytics --format pdf --output monthly-report.pdf

  # Export data
  lmmc export tasks --format csv --filter completed
  lmmc export projects --format excel
  ```

  ## Configuration

  ### Configuration File

  LMMC uses YAML configuration located at `~/.config/lmmc/config.yaml`:

  ```yaml
  # Core settings
  core:
    repository: "github.com/myorg/myproject"
    user_id: "john.doe"
    timezone: "America/New_York"
    
  # AI settings
  ai:
    provider: "openai"
    model: "gpt-4"
    api_key_env: "OPENAI_API_KEY"
    
  # TUI preferences
  tui:
    theme: "dark"
    default_view: "tasks"
    auto_refresh: true
    
  # Export settings
  export:
    default_format: "csv"
    include_metadata: true
    compress_large_files: true
    
  # Integrations
  integrations:
    github:
      token_env: "GITHUB_TOKEN"
      default_repo: "myorg/myproject"
    jira:
      url: "https://myorg.atlassian.net"
      username: "john.doe@myorg.com"
      token_env: "JIRA_API_TOKEN"
  ```

  ### Environment Variables

  ```bash
  # Core configuration
  export LMMC_REPOSITORY="github.com/myorg/myproject"
  export LMMC_USER_ID="john.doe"

  # AI configuration
  export OPENAI_API_KEY="sk-..."

  # Integration tokens
  export GITHUB_TOKEN="ghp_..."
  export JIRA_API_TOKEN="..."
  export NOTION_API_KEY="secret_..."

  # Server configuration (if using server mode)
  export LMMC_SERVER_HOST="localhost"
  export LMMC_SERVER_PORT="9080"
  export QDRANT_URL="http://localhost:6333"
  ```

  ## Troubleshooting

  ### Common Issues

  #### Installation Issues

  **Problem**: `command not found: lmmc`
  
  **Solution**:
  ```bash
  # Check if installed
  which lmmc
  
  # Check PATH
  echo $PATH
  
  # Reinstall if needed
  brew reinstall lmmc
  # or
  make install
  ```

  **Problem**: Shell completion not working
  
  **Solution**:
  ```bash
  # Reinstall completion
  lmmc completion install
  
  # Manual installation
  lmmc completion bash > /usr/local/etc/bash_completion.d/lmmc
  source ~/.bashrc
  ```

  #### Configuration Issues

  **Problem**: AI suggestions not working
  
  **Solution**:
  ```bash
  # Check API key
  echo $OPENAI_API_KEY
  
  # Test connection
  lmmc doctor
  
  # Check configuration
  lmmc config show
  ```

  **Problem**: Cannot connect to server
  
  **Solution**:
  ```bash
  # Check server status
  lmmc server status
  
  # Start server
  lmmc server start
  
  # Check configuration
  lmmc config show server
  ```

  ### Performance Issues

  #### Slow Task Operations

  1. **Check index status**:
     ```bash
     lmmc index status
     ```

  2. **Rebuild index if needed**:
     ```bash
     lmmc index rebuild
     ```

  3. **Clear cache**:
     ```bash
     lmmc cache clear
     ```

  #### High Memory Usage

  1. **Check dataset size**:
     ```bash
     lmmc stats
     ```

  2. **Optimize storage**:
     ```bash
     lmmc optimize
     ```

  3. **Configure limits**:
     ```yaml
     # config.yaml
     performance:
       max_search_results: 1000
       cache_size: "100MB"
       batch_size: 100
     ```

  ### Getting Help

  #### Built-in Help

  ```bash
  # General help
  lmmc --help

  # Command-specific help
  lmmc task --help
  lmmc task create --help

  # Configuration help
  lmmc config --help
  ```

  #### Diagnostic Information

  ```bash
  # System health check
  lmmc doctor

  # Verbose diagnostics
  lmmc doctor --verbose

  # Export diagnostics
  lmmc doctor --export diagnostics.json
  ```

  #### Support Channels

  - **GitHub Issues**: https://github.com/lerianstudio/lerian-mcp-memory/issues
  - **Discussions**: https://github.com/lerianstudio/lerian-mcp-memory/discussions
  - **Documentation**: https://docs.lmmc.dev
  - **Email**: support@lerian.studio

  When reporting issues, please include:
  - LMMC version (`lmmc version`)
  - Operating system
  - Error messages
  - Configuration (redacted)
  - Steps to reproduce
  ```

  ```go
  // Documentation generation tool
  package main

  import (
      "fmt"
      "os"
      "path/filepath"
      "text/template"
      
      "github.com/spf13/cobra"
      "gopkg.in/yaml.v2"
  )

  type DocsConfig struct {
      Title       string            `yaml:"title"`
      Description string            `yaml:"description"`
      Version     string            `yaml:"version"`
      BaseURL     string            `yaml:"base_url"`
      Sections    []DocSection      `yaml:"sections"`
      Templates   map[string]string `yaml:"templates"`
  }

  type DocSection struct {
      Title    string      `yaml:"title"`
      Path     string      `yaml:"path"`
      Children []DocSection `yaml:"children,omitempty"`
  }

  func NewDocsCommand() *cobra.Command {
      cmd := &cobra.Command{
          Use:   "docs",
          Short: "Generate and serve documentation",
          Long:  "Generate comprehensive documentation from code and markdown sources",
      }

      // Generate command
      generateCmd := &cobra.Command{
          Use:   "generate",
          Short: "Generate documentation",
          RunE: func(cmd *cobra.Command, args []string) error {
              return generateDocs()
          },
      }

      // Serve command
      serveCmd := &cobra.Command{
          Use:   "serve",
          Short: "Serve documentation locally",
          RunE: func(cmd *cobra.Command, args []string) error {
              port, _ := cmd.Flags().GetInt("port")
              return serveDocs(port)
          },
      }
      serveCmd.Flags().IntP("port", "p", 8080, "Port to serve on")

      // Deploy command
      deployCmd := &cobra.Command{
          Use:   "deploy",
          Short: "Deploy documentation to hosting",
          RunE: func(cmd *cobra.Command, args []string) error {
              return deployDocs()
          },
      }

      cmd.AddCommand(generateCmd, serveCmd, deployCmd)
      return cmd
  }

  func generateDocs() error {
      // Load configuration
      config, err := loadDocsConfig()
      if err != nil {
          return err
      }

      // Create output directory
      outputDir := "build/docs"
      err = os.MkdirAll(outputDir, 0755)
      if err != nil {
          return err
      }

      // Generate API documentation
      err = generateAPIRefs()
      if err != nil {
          return err
      }

      // Process markdown files
      err = processMarkdownFiles(config, outputDir)
      if err != nil {
          return err
      }

      // Generate navigation
      err = generateNavigation(config, outputDir)
      if err != nil {
          return err
      }

      // Copy assets
      err = copyAssets(outputDir)
      if err != nil {
          return err
      }

      fmt.Println("Documentation generated successfully!")
      return nil
  }

  func generateAPIRefs() error {
      // Use go doc or similar to generate API references
      // This would parse Go code and generate documentation
      
      // Example structure:
      apis := []APIDoc{
          {
              Package: "services",
              Types: []TypeDoc{
                  {
                      Name: "TaskService",
                      Methods: []MethodDoc{
                          {
                              Name: "CreateTask",
                              Signature: "CreateTask(ctx context.Context, task *Task) error",
                              Description: "Creates a new task in the repository",
                              Examples: []string{
                                  `task := &Task{Title: "New task"}
  err := service.CreateTask(ctx, task)`,
                              },
                          },
                      },
                  },
              },
          },
      }

      return renderAPITemplate(apis, "build/docs/api")
  }
  ```

  ```yaml
  # Documentation configuration
  title: "LMMC Documentation"
  description: "Comprehensive documentation for LMMC task management system"
  version: "1.0.0"
  base_url: "https://docs.lmmc.dev"

  sections:
    - title: "Getting Started"
      path: "getting-started"
      children:
        - title: "Installation"
          path: "installation"
        - title: "Quick Start"
          path: "quick-start"
        - title: "Configuration"
          path: "configuration"

    - title: "User Guide"
      path: "user-guide"
      children:
        - title: "Task Management"
          path: "tasks"
        - title: "Project Organization"
          path: "projects"
        - title: "AI Features"
          path: "ai-features"
        - title: "Analytics"
          path: "analytics"

    - title: "Advanced Features"
      path: "advanced"
      children:
        - title: "Interactive TUI"
          path: "tui"
        - title: "Server Integration"
          path: "server"
        - title: "Export & Integration"
          path: "export"
        - title: "Automation"
          path: "automation"

    - title: "API Reference"
      path: "api"
      children:
        - title: "CLI Commands"
          path: "cli"
        - title: "REST API"
          path: "rest"
        - title: "Configuration"
          path: "config"

    - title: "Integrations"
      path: "integrations"
      children:
        - title: "GitHub"
          path: "github"
        - title: "Jira"
          path: "jira"
        - title: "Notion"
          path: "notion"
        - title: "Custom"
          path: "custom"

    - title: "Administration"
      path: "admin"
      children:
        - title: "Deployment"
          path: "deployment"
        - title: "Monitoring"
          path: "monitoring"
        - title: "Backup & Recovery"
          path: "backup"
        - title: "Security"
          path: "security"

    - title: "Troubleshooting"
      path: "troubleshooting"
      children:
        - title: "Common Issues"
          path: "common-issues"
        - title: "Error Messages"
          path: "error-messages"
        - title: "Performance"
          path: "performance"
        - title: "Support"
          path: "support"

  templates:
    layout: "templates/layout.html"
    api: "templates/api.html"
    guide: "templates/guide.html"
  ```

  ```html
  <!-- Documentation website template -->
  <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>{{.Title}} - LMMC Documentation</title>
      <link rel="stylesheet" href="/assets/css/docs.css">
      <link rel="stylesheet" href="/assets/css/highlight.css">
  </head>
  <body>
      <div class="docs-container">
          <!-- Navigation sidebar -->
          <nav class="docs-nav">
              <div class="nav-header">
                  <h1>LMMC Docs</h1>
                  <div class="version">v{{.Version}}</div>
              </div>
              
              <div class="search-box">
                  <input type="search" placeholder="Search docs..." id="docs-search">
              </div>
              
              <ul class="nav-sections">
                  {{range .Sections}}
                  <li class="nav-section">
                      <a href="/{{.Path}}" class="nav-link">{{.Title}}</a>
                      {{if .Children}}
                      <ul class="nav-subsections">
                          {{range .Children}}
                          <li><a href="/{{.Path}}" class="nav-sublink">{{.Title}}</a></li>
                          {{end}}
                      </ul>
                      {{end}}
                  </li>
                  {{end}}
              </ul>
          </nav>
          
          <!-- Main content -->
          <main class="docs-content">
              <article class="docs-article">
                  {{.Content}}
              </article>
              
              <!-- Page navigation -->
              <nav class="page-nav">
                  {{if .PrevPage}}
                  <a href="{{.PrevPage.URL}}" class="nav-prev">
                      ← {{.PrevPage.Title}}
                  </a>
                  {{end}}
                  
                  {{if .NextPage}}
                  <a href="{{.NextPage.URL}}" class="nav-next">
                      {{.NextPage.Title}} →
                  </a>
                  {{end}}
              </nav>
          </main>
          
          <!-- Table of contents -->
          <aside class="docs-toc">
              <h3>On this page</h3>
              <ul id="toc-list">
                  <!-- Generated by JavaScript -->
              </ul>
          </aside>
      </div>
      
      <script src="/assets/js/docs.js"></script>
      <script src="/assets/js/search.js"></script>
      <script src="/assets/js/highlight.js"></script>
  </body>
  </html>
  ```

- **Configuration Changes:** 
  - Add documentation generation settings
  - Configure documentation hosting
  - Set update and versioning policies

- **Dependencies:**
  - Documentation generators (Hugo, VitePress, or custom)
  - Markdown processors
  - Code documentation tools

## 4. Acceptance Criteria
- **Functional Criteria:**
  - Complete user guide covers all features
  - API reference is accurate and up-to-date
  - Tutorials are clear and functional
  - Troubleshooting guide addresses common issues
  - Documentation is searchable and navigable
  - Multi-format output works (HTML, PDF)
  - Examples and code snippets are correct
  
- **Technical Criteria:**
  - Documentation builds without errors
  - Search functionality works effectively
  - Cross-references and links are valid
  - Documentation loads quickly
  - Mobile-responsive design
  
- **Integration Criteria:**
  - Documentation reflects actual CLI behavior
  - API docs match implementation
  - Examples work with current version
  
- **Test Criteria:**
  - All code examples tested and verified
  - Documentation accuracy validated
  - User journey testing completed
  - Accessibility standards met

## 5. Testing Requirements
- **Unit Tests:**
  - Documentation generation tools
  - Link validation
  - Code example verification
  - Search functionality
  
- **Integration Tests:**
  - Full documentation build process
  - Website functionality
  - Cross-reference validation
  - Multi-format generation
  
- **Manual Testing:**
  - User experience evaluation
  - Tutorial walkthrough
  - Documentation completeness review
  - Accessibility testing
  
- **Test Data:**
  - Various user scenarios
  - Different skill levels
  - Multiple platforms and browsers
  - Accessibility test cases

## 6. Definition of Done
- **Code Complete:** All documentation written and generated
- **Tests Passing:** All documentation tests and validations passing
- **Documentation Updated:** Meta-documentation for maintaining docs
- **Integration Verified:** Documentation matches implementation
- **Review Approved:** Editorial and technical review completed

## 7. Dependencies and Blockers
- **Required Sub-Tasks:** All other MT-005 sub-tasks for feature documentation
- **External Dependencies:** Documentation hosting platform
- **Environmental Requirements:** Documentation build tools
- **Potential Blockers:** Feature changes requiring documentation updates

## 8. Integration Notes
- **Component Interfaces:** Documents all CLI commands and APIs
- **Data Flow:** Code → Documentation Generation → Website → Users
- **Error Handling:** Validation of documentation accuracy
- **Configuration Impact:** Documentation configuration and maintenance